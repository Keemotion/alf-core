rules:
  predicate:
    - tautology
    - contradiction
    - var_ref
    - not
    - and
    - or
    - eq
    - neq
    - lt
    - lte
    - gt
    - gte
    - in
    - native
  tautology:
    - [ true ]
  contradiction:
    - [ false ]
  var_ref:
    - [ var_name ]
  not:
    - [ predicate ]
  and:
    - [ predicate+ ]
  or:
    - [ predicate+ ]
  eq:
    - [ term, term ]
  neq:
    - [ term, term ]
  lt:
    - [ term, term ]
  lte:
    - [ term, term ]
  gt:
    - [ term, term ]
  gte:
    - [ term, term ]
  in:
    - [ var_ref, values ]
  term:
    - var_ref
    - literal
  native:
    - [ "::Proc" ]
  literal:
    - "::Object"
  values:
    - "::Object"
  var_name:
    !ruby/regexp /^[a-zA-Z0-9_]+[?!]?$/

